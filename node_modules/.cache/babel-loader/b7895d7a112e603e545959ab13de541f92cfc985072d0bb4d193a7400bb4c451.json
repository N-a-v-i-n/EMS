{"ast":null,"code":"var _jsxFileName = \"C:\\\\assignment\\\\employee management system\\\\ems-frontend\\\\src\\\\employees\\\\FieldBuilder.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"../api/axios\";\nimport { DndContext, closestCenter, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { arrayMove, SortableContext, useSortable, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SortableItem({\n  field\n}) {\n  _s();\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition\n  } = useSortable({\n    id: field.id\n  });\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    padding: \"12px\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"6px\",\n    marginBottom: \"8px\",\n    backgroundColor: \"#f8f9fa\",\n    cursor: \"grab\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: setNodeRef,\n    style: style,\n    ...attributes,\n    ...listeners,\n    children: [field.label, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-muted\",\n      children: [\"(\", field.input_type, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(SortableItem, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function () {\n  return [useSortable];\n});\n_c = SortableItem;\nexport default function FieldBuilder() {\n  _s2();\n  const [fields, setFields] = useState([]);\n  useEffect(() => {\n    axios.get(\"/fields/\").then(res => setFields(res.data));\n  }, []);\n  const sensors = useSensors(useSensor(PointerSensor));\n  const handleDragEnd = async event => {\n    const {\n      active,\n      over\n    } = event;\n    if (active.id !== over.id) {\n      const oldIndex = fields.findIndex(item => item.id === active.id);\n      const newIndex = fields.findIndex(item => item.id === over.id);\n      const reordered = arrayMove(fields, oldIndex, newIndex);\n      setFields(reordered);\n\n      // Save new positions to backend\n      const updated = reordered.map((item, index) => ({\n        id: item.id,\n        position: index\n      }));\n      await axios.post(\"/fields/reorder/\", updated);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"mb-3\",\n      children: \"\\uD83E\\uDDF2 Reorder Form Fields\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DndContext, {\n      sensors: sensors,\n      collisionDetection: closestCenter,\n      onDragEnd: handleDragEnd,\n      children: /*#__PURE__*/_jsxDEV(SortableContext, {\n        items: fields.map(f => f.id),\n        strategy: verticalListSortingStrategy,\n        children: fields.map(field => /*#__PURE__*/_jsxDEV(SortableItem, {\n          field: field\n        }, field.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s2(FieldBuilder, \"q0uH8cnFEPXfiGI+xy0zMsIwmkY=\", false, function () {\n  return [useSensors, useSensor];\n});\n_c2 = FieldBuilder;\nvar _c, _c2;\n$RefreshReg$(_c, \"SortableItem\");\n$RefreshReg$(_c2, \"FieldBuilder\");","map":{"version":3,"names":["React","useEffect","useState","axios","DndContext","closestCenter","PointerSensor","useSensor","useSensors","arrayMove","SortableContext","useSortable","verticalListSortingStrategy","CSS","jsxDEV","_jsxDEV","SortableItem","field","_s","attributes","listeners","setNodeRef","transform","transition","id","style","Transform","toString","padding","border","borderRadius","marginBottom","backgroundColor","cursor","ref","children","label","className","input_type","fileName","_jsxFileName","lineNumber","columnNumber","_c","FieldBuilder","_s2","fields","setFields","get","then","res","data","sensors","handleDragEnd","event","active","over","oldIndex","findIndex","item","newIndex","reordered","updated","map","index","position","post","collisionDetection","onDragEnd","items","f","strategy","_c2","$RefreshReg$"],"sources":["C:/assignment/employee management system/ems-frontend/src/employees/FieldBuilder.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"../api/axios\";\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n} from \"@dnd-kit/core\";\r\nimport {\r\n  arrayMove,\r\n  SortableContext,\r\n  useSortable,\r\n  verticalListSortingStrategy,\r\n} from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\n\r\nfunction SortableItem({ field }) {\r\n  const { attributes, listeners, setNodeRef, transform, transition } =\r\n    useSortable({ id: field.id });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    padding: \"12px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"6px\",\r\n    marginBottom: \"8px\",\r\n    backgroundColor: \"#f8f9fa\",\r\n    cursor: \"grab\",\r\n  };\r\n\r\n  return (\r\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\r\n      {field.label} <span className=\"text-muted\">({field.input_type})</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function FieldBuilder() {\r\n  const [fields, setFields] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/fields/\").then((res) => setFields(res.data));\r\n  }, []);\r\n\r\n  const sensors = useSensors(useSensor(PointerSensor));\r\n\r\n  const handleDragEnd = async (event) => {\r\n    const { active, over } = event;\r\n    if (active.id !== over.id) {\r\n      const oldIndex = fields.findIndex((item) => item.id === active.id);\r\n      const newIndex = fields.findIndex((item) => item.id === over.id);\r\n      const reordered = arrayMove(fields, oldIndex, newIndex);\r\n      setFields(reordered);\r\n\r\n      // Save new positions to backend\r\n      const updated = reordered.map((item, index) => ({\r\n        id: item.id,\r\n        position: index,\r\n      }));\r\n      await axios.post(\"/fields/reorder/\", updated);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h5 className=\"mb-3\">ðŸ§² Reorder Form Fields</h5>\r\n      <DndContext\r\n        sensors={sensors}\r\n        collisionDetection={closestCenter}\r\n        onDragEnd={handleDragEnd}\r\n      >\r\n        <SortableContext items={fields.map((f) => f.id)} strategy={verticalListSortingStrategy}>\r\n          {fields.map((field) => (\r\n            <SortableItem key={field.id} field={field} />\r\n          ))}\r\n        </SortableContext>\r\n      </DndContext>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}